#include <stdio.h>
#include <windows.h>

// Funksjon for å simulere en keylogger (overvåker tastaturinput)
void Kl() {
    SHORT keyState;  // Variabel for å lagre tastens tilstand
    for (int key = 8; key <= 255; key++) { // Går gjennom tastene (ASCII-verdier 8-255)
        keyState = GetAsyncKeyState(key); // Henter tastens tilstand
        if (keyState & 0x8000) { // Sjekker om tasten er trykket ned
        //    printf("Key pressed: %c\n", key); // Ukommenter for å vise tastetrykk
        }
    }
}

// Funksjon for å simulere nedlastning fra en URL
void DownloadFile(const char* url) {
    // printf("Simulating download from: %s\n", url);
    // Plassholder for nedlastningslogikk (ikke implementert)
}

// Funksjon for å finne og kryptere en mappe
void EncryptFolder(const char* folderPath) {
    // printf("Encrypting folder: %s\n", folderPath);
    // Plassholder for krypteringslogikk (ikke implementert)
}

// Funksjon for å simulere opplasting av filer til en server
void UploadFiles(const char* serverUrl) {
    // printf("Simulating HTTP POST upload to: %s\n", serverUrl);
    // Plassholder for opplastningslogikk (ikke implementert)
}

int main() {
    // Hardkodede strenger som simulerer serveradresser og filstier
    const char* C2 = "1eIPiiv7e4fRd6oyRDDOxOS8KkCIaqS1r?usp=drive_link"; // Simulert kommando- og kontrollserver (C2)
    const char* web1 = "shorturl.at/<input_string>"; // Simulert URL (nedlastingsserver)
    const char* web2 = "input_string=Wcl6N"; // Simulert inputstreng
    const char* Encrypt = "C:\\Users\\ola\\Documents"; // Mappe som skal krypteres
    const char* ServerUrl = "109.228.128.55"; // Simulert ekstern server for operasjoner
    const char* uploadServerUrl = "109.248.255.3"; // Simulert server for opplasting

    // Kaller funksjonene i rekkefølge
    DownloadFile(C2);           // Simulerer nedlasting fra C2-serveren
    EncryptFolder(Encrypt);     // Simulerer kryptering av mappen "Documents"
    UploadFiles(uploadServerUrl); // Simulerer opplasting av filer til ekstern server
    Kl();                       // Starter keylogging-simuleringen
    
    return 0; // Avslutter programmet
}
